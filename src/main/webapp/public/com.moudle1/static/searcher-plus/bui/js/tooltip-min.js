define("bui/tooltip",["bui/common","jquery","bui/overlay"],function(t,e,i){var n=t("bui/common"),o=n.namespace("Tooltip"),l=t("bui/tooltip/tip"),r=t("bui/tooltip/tips");n.mix(o,{Tip:l,Tips:r}),i.exports=o}),define("bui/tooltip/tip",["jquery","bui/common","bui/overlay"],function(t,e,i){function n(t,e){return"left"===t?[-1*e,-4]:"right"===t?[e,-4]:t.indexOf("top")?[0,e]:t.indexOf("bottom")?[0,-1*e]:void 0}var o=t("jquery"),l=t("bui/common"),r=t("bui/overlay"),a="x-align-",u={left:["cl","cr"],right:["cr","cl"],top:["tc","bc"],bottom:["bc","tc"],"top-left":["tl","bl"],"top-right":["tr","br"],"bottom-left":["bl","tl"],"bottom-right":["br","tr"]},s=r.OverlayView.extend({renderUI:function(){},_getTitleContainer:function(){return this.get("el")},_uiSetTitle:function(t){var e,i=this,n=i.get("titleTpl"),r=i._getTitleContainer(),a=i.get("titleEl");a&&a.remove(),t=t||"",l.isString(t)&&(t={title:t}),e=l.substitute(n,t),a=o(e).appendTo(r),i.set("titleEl",a)},_uiSetAlignType:function(t,e){var i=this;e&&e.prevVal&&i.get("el").removeClass(a+e.prevVal),t&&i.get("el").addClass(a+t)}},{ATTRS:{title:{},titleEl:{},alignType:{}}},{xclass:"tooltip-view"}),p=r.Overlay.extend({_uiSetAlignType:function(t){var e=this,i=e.get("offset"),o=e.get("align")||{},l=u[t];l&&(o.points=l,i&&(o.offset=n(t,i)),e.set("align",o))}},{ATTRS:{delegateTrigger:{value:!0},alignType:{view:!0},title:{view:!0},showArrow:{value:!0},arrowContainer:{view:!0},autoHide:{value:!0},autoHideType:{value:"leave"},offset:{value:0},triggerEvent:{value:"mouseover"},titleTpl:{view:!0,value:"<span>{title}</span>"},xview:{value:s}}},{xclass:"tooltip"});p.View=s,i.exports=p}),define("bui/tooltip/tips",["bui/common","jquery","bui/overlay"],function(t,e,i){function n(t){return/^{.*}$/.test(t)}var o=t("bui/common"),l=t("bui/tooltip/tip"),r=function(t){r.superclass.constructor.call(this,t)};r.ATTRS={tip:{},defaultAlignType:{}},o.extend(r,o.Base),o.augment(r,{_init:function(){this._initDom(),this._initEvent()},_initDom:function(){var t,e=this,i=e.get("tip");i&&!i.isController&&(t=i.alignType,i=new l(i),i.render(),e.set("tip",i),t&&e.set("defaultAlignType",t))},_initEvent:function(){var t=this,e=t.get("tip");e.on("triggerchange",function(i){var n=i.curTrigger;t._replaceTitle(n),t._setTitle(n,e)})},_replaceTitle:function(t){var e=t.attr("title");e&&(t.attr("data-title",e),t[0].removeAttribute("title"))},_setTitle:function(t,e){var i=this,l=t.attr("data-title"),r=t.attr("data-align")||i.get("defaultAlignType");n(l)&&(l=o.JSON.looseParse(l)),e.set("title",l),r&&e.set("alignType",r)},render:function(){return this._init(),this}}),i.exports=r});